import{_ as j,r as c,h as S,i as _,c as o,o as r,b as s,F as m,j as p,e as v,w as V,f as P,a as B,k as F,l as N,u as z,n as x,t as y}from"./index-Cm4Pjn_H.js";import{i as H}from"./Hemei_story-D1MM_gpy.js";const U="/Hemei/assets/cover-Bsdi9Mzn.png",$={class:"actions-wrapper page-background"},M={class:"cloud-container-left"},E=["src"],L={class:"cloud-container-right"},R=["src"],T={class:"content-scroller"},W={class:"relative z-5 pt-25 w-full shadow-md bg-header text-rice-500"},q={class:"container mx-auto flex items-center p-4"},A={class:"w-1/3"},G={class:"p-10 flex flex-col justify-center items-center gap-8 md:mx-auto"},J={class:"grid grid-cols-1 md:grid-cols-3 gap-5 p-4 md:p-0 md:gap-5"},K=["onClick"],O={class:"p-4 flex flex-col justify-center"},Q={class:"text-xl font-bold mb-2"},X={class:"text-gray-600 text-sm"},Y={key:0,class:"text-center text-gray-500 mt-8"},f=6,Z={__name:"Story",setup(ee){const h=c([]),w=c([]);S(()=>{});const D=c(H),l=c({sdgs:[],time:"all",startDate:"",endDate:""}),d=c(1),k=a=>{l.value=a,d.value=1},u=_(()=>{let a=D.value;if(l.value.sdgs.length>0&&(a=a.filter(e=>e.types&&e.types.some(i=>l.value.sdgs.includes(i)))),l.value.time!=="all"){const e=new Date;a=a.filter(i=>{if(!i.time||String(i.time).trim()==="")return!1;const t=new Date(Number(i.time)*1e3);if(l.value.time==="day"){const n=new Date;return n.setDate(e.getDate()-1),t>=n}else if(l.value.time==="week"){const n=new Date;return n.setDate(e.getDate()-7),t>=n}else if(l.value.time==="custom"&&l.value.startDate&&l.value.endDate){const n=new Date(l.value.startDate);n.setHours(0,0,0,0);const g=new Date(l.value.endDate);return g.setHours(23,59,59,999),t>=n&&t<=g}return!0})}return a}),b=_(()=>{const a=(d.value-1)*f,e=a+f;return u.value.slice(a,e)}),C=z(),I=a=>{C.push({name:"story-detail",params:{id:a}})};return(a,e)=>{const i=P("router-link");return r(),o("div",$,[s("div",M,[(r(!0),o(m,null,p(h.value,t=>(r(),o("img",{key:t.id,src:t.src,style:x(t.style),alt:"Decorative Cloud"},null,12,E))),128))]),s("div",L,[(r(!0),o(m,null,p(w.value,t=>(r(),o("img",{key:t.id,src:t.src,style:x(t.style),alt:"Decorative Cloud"},null,12,R))),128))]),s("div",T,[s("header",W,[s("div",q,[s("div",A,[v(i,{to:"/sdgs",class:"back-home-btn"},{default:V(()=>[...e[1]||(e[1]=[s("span",{class:"text"},"回上頁",-1),s("span",{class:"icon"},"←",-1)])]),_:1})]),e[2]||(e[2]=s("div",{class:"w-1/3 text-center"},[s("h1",{class:"text-2xl md:text-3xl font-bold"},"故事牆")],-1)),e[3]||(e[3]=s("div",{class:"w-1/3"},null,-1))])]),s("main",G,[v(F,{"onUpdate:filters":k,class:"flex flex-wrap justify-center items-center gap-4"}),s("section",J,[(r(!0),o(m,null,p(b.value,t=>(r(),o("div",{class:"animate-fade-in-up cursor-pointer w-80 md:mx-auto min-h-80 bg-white rounded-xl shadow-md overflow-hidden flex flex-col gap-5 hover:scale-105",key:t.id,onClick:n=>I(t.id)},[e[5]||(e[5]=s("img",{src:U,alt:"Card Image",class:"h-45 object-cover"},null,-1)),s("div",O,[s("h2",Q,y(t.title),1),s("p",X,y(t.intro),1),e[4]||(e[4]=s("p",{class:"text-gray-600 text-sm text-right pe-3"},"更多",-1))])],8,K))),128))]),u.value.length===0?(r(),o("div",Y,[...e[6]||(e[6]=[s("p",null,"找不到符合條件的故事。",-1)])])):B("",!0),v(N,{class:"flex justify-center items-center gap-4 mt-8",totalItems:u.value.length,itemsPerPage:f,modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=t=>d.value=t)},null,8,["totalItems","modelValue"])])])])}}},ae=j(Z,[["__scopeId","data-v-3f005c02"]]);export{ae as default};

import{r as c,j as C,c as o,o as i,b as e,e as y,w as B,f as P,p as S,t as n,F as u,k as v,q as U,v as D,u as d,i as N,s as T,x as b}from"./index-DxS-UHr3.js";import{i as F}from"./Hemei_story-D1MM_gpy.js";const L="/Hemei/assets/Backgound-BX672_tB.png",j="/Hemei/assets/Backgound-N-4NDv0h.webp",R="/Hemei/assets/Backgound_N-C56iPu1Q.png",z="/Hemei/assets/Backgound_N-ODVjAf55.webp",A="/Hemei/assets/ChinesePaintingRing-CLQfEjh4.png",V="/Hemei/assets/ChinesePaintingRing-uAk90rTq.webp",I="/Hemei/assets/Cloud-JppoNoCH.png",q="/Hemei/assets/Frame-ZztFF4-e.png",G="/Hemei/assets/Frame_N-_DghVi6T.png",Q="/Hemei/assets/GoldenCloud-BiNn1bEZ.png",J="/Hemei/assets/GrayCloud-etuqzfr7.png",M="/Hemei/assets/Logo-DHvQ23I_.png",O="/Hemei/assets/Paint_1_Selected-CO4Ks-25.png",$="/Hemei/assets/Paint_1_Unselected-CQa6i4G4.png",E="/Hemei/assets/Paint_2_Selected-B7CvwUNw.png",X="/Hemei/assets/Paint_2_Unselected-CPJDyRKj.png",K="/Hemei/assets/Paint_3_Selected-DR1ixOtg.png",Y="/Hemei/assets/Paint_3_Unselected-DR1FLJTL.png",Z="/Hemei/assets/Text_H-BakSN0mx.png",W="/Hemei/assets/Tree_1-Dew47CQA.png",ee="/Hemei/assets/Tree_2-maFYgoSY.png",se="/Hemei/assets/cover-Bsdi9Mzn.png",te="/Hemei/assets/cover_120-0VqVMu1C.jpg",ae="/Hemei/assets/cover_playground-CBAaLs_g.png",ne="/Hemei/assets/cover_sky-Ccq6B0sM.png",oe="/Hemei/assets/plant_background-BAtXJcFl.png",ie={class:"page-background"},le={class:"pt-25 w-full z-10 shadow-md bg-header text-rice-500"},_e={class:"container mx-auto flex items-center p-4"},ge={class:"w-1/3"},re={class:"max-w-4xl mx-auto p-4 pt-10 text-[1.2rem]"},ce={key:0,class:"animate-fade-in-up flex flex-col gap-8"},de={class:"relative z-10 text-white"},pe={class:"text-4xl font-bold mb-4"},me={class:"mb-2 text-lg"},ue={class:"flex flex-wrap gap-2 mt-2"},ve={class:"flex flex-col gap-4 items-start"},be={class:"text-gray-700 leading-relaxed w-full"},fe={class:"mb-6"},xe={class:"flex flex-col gap-4"},ke={class:"font-bold"},he={class:"text-gray-800"},we={class:"flex items-center justify-end mt-2"},He=["onClick"],Ce={class:"ml-1"},ye={key:1},Ue={__name:"StoryDetail",props:{id:String},setup(f){const p=N("handleAppScroll"),x=f,a=c(F.find(l=>l.id===parseInt(x.id))),k=C(()=>{if(!a.value)return{};const l=a.value.img_url||"Backgound.png";try{return{backgroundImage:`url(${new URL(Object.assign({"../assets/images/Backgound.png":L,"../assets/images/Backgound.webp":j,"../assets/images/Backgound_N.png":R,"../assets/images/Backgound_N.webp":z,"../assets/images/ChinesePaintingRing.png":A,"../assets/images/ChinesePaintingRing.webp":V,"../assets/images/Cloud.png":I,"../assets/images/Frame.png":q,"../assets/images/Frame_N.png":G,"../assets/images/GoldenCloud.png":Q,"../assets/images/GrayCloud.png":J,"../assets/images/Logo.png":M,"../assets/images/Paint_1_Selected.png":O,"../assets/images/Paint_1_Unselected.png":$,"../assets/images/Paint_2_Selected.png":E,"../assets/images/Paint_2_Unselected.png":X,"../assets/images/Paint_3_Selected.png":K,"../assets/images/Paint_3_Unselected.png":Y,"../assets/images/Text_H.png":Z,"../assets/images/Tree_1.png":W,"../assets/images/Tree_2.png":ee,"../assets/images/cover.png":se,"../assets/images/cover_120.jpg":te,"../assets/images/cover_playground.png":ae,"../assets/images/cover_sky.png":ne,"../assets/images/plant_background.png":oe})[`../assets/images/${l}`],import.meta.url).href})`}}catch(s){return console.error(s),{backgroundImage:`url(${new URL("/Hemei/assets/Backgound-BX672_tB.png",import.meta.url).href})`}}}),m={name:"我"},_=c(""),r=c([{id:1,author:"小明",text:"這篇文章真棒！",likes:5,liked:!1},{id:2,author:"我",text:"寫得很好，學到很多。",likes:2,liked:!0}]),h=()=>{_.value.trim()!==""&&(r.value.unshift({id:Date.now(),author:m.name,text:_.value,likes:0,liked:!1}),_.value="")},w=l=>{const s=r.value.find(g=>g.id===l);s&&(s.liked?s.likes--:s.likes++,s.liked=!s.liked)},H=()=>{navigator.share?navigator.share({title:a.value.title,text:a.value.intro,url:window.location.href}).catch(console.error):(navigator.clipboard.writeText(window.location.href),alert("連結已複製到剪貼簿！"))};return(l,s)=>{const g=P("router-link");return i(),o("div",ie,[e("div",{class:"content-scroller",onScroll:s[1]||(s[1]=(...t)=>d(p)&&d(p)(...t))},[e("header",le,[e("div",_e,[e("div",ge,[y(g,{to:"/story",class:"back-home-btn"},{default:B(()=>[...s[2]||(s[2]=[e("span",{class:"text"},"回上頁",-1),e("span",{class:"icon"},"←",-1)])]),_:1})]),s[3]||(s[3]=e("div",{class:"w-1/3 text-center"},null,-1)),s[4]||(s[4]=e("div",{class:"w-1/3"},null,-1))])]),e("main",re,[a.value?(i(),o("section",ce,[e("div",{style:S(k.value),class:"relative bg-cover bg-center bg-opacity-70 p-7 rounded-md md:h-80 grid grid-cols-1 content-end overflow-hidden"},[s[5]||(s[5]=e("div",{class:"absolute inset-0 bg-black/40"},null,-1)),e("div",de,[e("h1",pe,n(a.value.title),1),e("p",me,n(a.value.intro),1),e("small",null,n(new Date(a.value.time*1e3).toLocaleDateString()),1),e("div",ue,[(i(!0),o(u,null,v(a.value.types,t=>(i(),o("span",{key:t,class:"px-3 py-1 text-sm rounded-full bg-blue-100 text-blue-800"},n(d(T)[t].title),1))),128))])])],4),e("section",ve,[e("button",{onClick:H,class:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 self-end"}," 分享 "),e("p",be,n(a.value.description),1)]),e("section",null,[s[6]||(s[6]=e("h2",{class:"text-2xl font-bold mb-4"},"留言板",-1)),e("div",fe,[U(e("textarea",{"onUpdate:modelValue":s[0]||(s[0]=t=>_.value=t),class:"w-full p-2 border rounded-md",rows:"3",placeholder:"在這裡寫下你的留言..."},null,512),[[D,_.value]]),e("button",{onClick:h,class:"mt-2 bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600"}," 發布留言 ")]),e("div",xe,[(i(!0),o(u,null,v(r.value,t=>(i(),o("div",{key:t.id,class:b(["p-4 rounded-md",t.author===m.name?"bg-green-100":"bg-gray-100"])},[e("p",ke,n(t.author),1),e("p",he,n(t.text),1),e("div",we,[e("button",{onClick:Be=>w(t.id),class:"text-gray-500 hover:text-red-500"},[e("i",{class:b(["fa-heart",t.liked?"fa-solid text-red-500":"fa-regular"])},null,2),e("span",Ce,n(t.likes),1)],8,He)])],2))),128))])])])):(i(),o("div",ye,[...s[7]||(s[7]=[e("p",null,"找不到這篇故事。",-1)])]))])],32)])}}};export{Ue as default};

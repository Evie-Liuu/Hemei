import{_ as j,a as C,b as I}from"./PageLabel-BsF9nnun.js";import{u as S,c as o,a as i,e as f,d as e,t as u,f as A,n as b,g as V,F as x,h as N,r as p,o as P,i as D,j as g,w as F,k as z,b as B}from"./index-B6aX15oA.js";import{t as E}from"./SDGs_goal-D1XSLY4x.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U=[{id:1,title:"剩食問題",group:"一年忠班",startTime:"1746028800",endTime:"1753977600",types:[2],intro:"",progress:10,thumbnail:"thumb2.jpg",description:""},{id:2,title:"剩食問題",group:"一年孝班",startTime:"1746028800",endTime:"1753977600",types:[2],intro:"",progress:40,thumbnail:"thumb2.jpg",description:""},{id:3,title:"節約用水",group:"全校",startTime:"",endTime:"",types:[6],intro:"",progress:80,thumbnail:"thumb2.jpg",description:""},{id:4,title:"社區踏查",group:"",startTime:"",endTime:"",types:[2,3],intro:"",progress:50,thumbnail:"thumb2.jpg",description:""}],H=["onClick"],M={class:"p-6 md:p-15 flex flex-col justify-center w-full"},R={class:"text-md mb-2"},q={class:"text-md mb-2"},G={class:"text-md mb-2"},J={class:"text-md mb-2"},K={class:"flex items-center w-full md:w-70 gap-3"},O={class:"relative flex-1 bg-gray-200 rounded-full h-2 overflow-hidden"},Q={class:"w-10 text-sm text-gray-700 text-left"},W={class:"flex flex-wrap gap-2 mt-2"},X={__name:"ActionCard",props:{filteredInfo:{type:Array,default:()=>[]}},setup(y){S();const _=d=>d<40?"bg-red-500":d<70?"bg-yellow-400":"bg-green-500",v=d=>{};return(d,l)=>(i(!0),o(x,null,f(y.filteredInfo,s=>(i(),o("div",{class:"animate-fade-in-up cursor-pointer w-full md:max-w-7xl md:mx-auto min-h-96 md:min-h-80 bg-white rounded-xl shadow-md overflow-hidden flex flex-col md:flex-row hover:scale-105",key:s.id,onClick:m=>v(s.id)},[l[2]||(l[2]=e("div",{class:"relative w-full h-64 md:h-auto md:w-1/2"},[e("img",{src:j,alt:"Card Image",class:"absolute inset-0 w-full h-full object-cover object-center"})],-1)),e("div",M,[e("h2",R,"主題："+u(s.title),1),e("p",q," 時間："+u(s.startTime.length?new Date(s.startTime*1e3).toLocaleDateString()+" ~ "+new Date(s.endTime*1e3).toLocaleDateString():"無"),1),e("p",G,"成員："+u(s.group),1),e("p",J,"描述："+u(s.intro),1),e("div",K,[l[0]||(l[0]=A(" 進度： ",-1)),e("div",O,[e("div",{class:V(["h-2 rounded-full transition-all duration-500",_(s.progress)]),style:b({width:s.progress+"%"})},null,6)]),e("span",Q,u(s.progress)+"% ",1)]),e("div",W,[(i(!0),o(x,null,f(s.types,m=>(i(),o("span",{key:m,class:"px-3 py-1 text-sm rounded-full bg-blue-100 text-blue-800"},u(N(E)[m].title),1))),128))]),l[1]||(l[1]=e("p",{class:"text-gray-600 text-sm text-right"},"更多",-1))])],8,H))),128))}},Y={class:"actions-wrapper page-background"},Z={class:"cloud-container-left"},ee=["src"],te={class:"cloud-container-right"},se=["src"],le={class:"content-scroller"},ae={class:"relative z-5 pt-25 w-full shadow-md bg-header text-rice-500"},re={class:"container mx-auto flex items-center p-4"},ne={class:"w-1/3"},oe={class:"p-10 flex flex-col justify-center items-center gap-8 max-w-7xl md:mx-auto"},ie={key:0,class:"text-center text-gray-500 mt-8"},w=3,de={__name:"Actions",setup(y){const _=p([]),v=p([]);P(()=>{});const d=p(U),l=p({sdgs:[],time:"all",startDate:"",endDate:""}),s=p(1),m=n=>{l.value=n,s.value=1},h=D(()=>{let n=d.value;if(l.value.sdgs.length>0&&(n=n.filter(t=>t.types&&t.types.some(r=>l.value.sdgs.includes(r)))),l.value.time!=="all"){const t=new Date;let r,a;switch(l.value.time){case"day":a=new Date(t),r=new Date(t),r.setDate(t.getDate()-1);break;case"week":a=new Date(t),r=new Date(t),r.setDate(t.getDate()-7);break;case"custom":l.value.startDate&&l.value.endDate&&(r=new Date(l.value.startDate),r.setHours(0,0,0,0),a=new Date(l.value.endDate),a.setHours(23,59,59,999));break}r&&a&&(n=n.filter(c=>{if(!c.startTime||!c.endTime||!String(c.startTime).trim()||!String(c.endTime).trim())return!1;const k=new Date(Number(c.startTime)*1e3),$=new Date(Number(c.endTime)*1e3);return k<=a&&$>=r}))}return n}),T=D(()=>{const n=(s.value-1)*w,t=n+w;return h.value.slice(n,t)});return(n,t)=>{const r=z("router-link");return i(),o("div",Y,[e("div",Z,[(i(!0),o(x,null,f(_.value,a=>(i(),o("img",{key:a.id,src:a.src,style:b(a.style),alt:"Decorative Cloud"},null,12,ee))),128))]),e("div",te,[(i(!0),o(x,null,f(v.value,a=>(i(),o("img",{key:a.id,src:a.src,style:b(a.style),alt:"Decorative Cloud"},null,12,se))),128))]),e("div",le,[e("header",ae,[e("div",re,[e("div",ne,[g(r,{to:"/",class:"back-home-btn"},{default:F(()=>[...t[1]||(t[1]=[e("span",{class:"text"},"回首頁",-1),e("span",{class:"icon"},"←",-1)])]),_:1})]),t[2]||(t[2]=e("div",{class:"w-1/3 text-center"},[e("h1",{class:"text-2xl md:text-3xl font-bold"},"行動追蹤")],-1)),t[3]||(t[3]=e("div",{class:"w-1/3"},null,-1))])]),e("main",oe,[g(C,{"onUpdate:filters":m,class:"flex flex-wrap justify-center items-center gap-4"}),g(X,{filteredInfo:T.value,class:"flex flex-col gap-5 w-full px-4 md:px-0"},null,8,["filteredInfo"]),h.value.length===0?(i(),o("div",ie,[...t[4]||(t[4]=[e("p",null,"找不到符合條件的行動。",-1)])])):B("",!0),g(I,{class:"flex justify-center items-center gap-4 mt-8",totalItems:h.value.length,itemsPerPage:w,modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=a=>s.value=a)},null,8,["totalItems","modelValue"])])])])}}},ge=L(de,[["__scopeId","data-v-bb7bfcb8"]]);export{ge as default};
